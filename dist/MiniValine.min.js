!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("MiniValine",[],e):"object"==typeof exports?exports.MiniValine=e():t.MiniValine=e()}(window,(function(){return function(t){function e(e){for(var n,r,o=e[0],a=e[1],l=0,c=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(s&&s(e);c.length;)c.shift()()}var n={},i={0:0};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(t){return r.p+"MiniValine."+({1:"math",2:"md",3:"md-style",4:"style",5:"vendors~md"}[t]||t)+".min.js"}(t);var s=new Error;a=function(e){l.onerror=l.onload=null,clearTimeout(c);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}i[t]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://cdn.jsdelivr.net/npm/minivaline/dist/",r.oe=function(t){throw console.error(t),t};var o=window.webpackJsonpMiniValine=window.webpackJsonpMiniValine||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var s=a;return r(r.s=9)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.VERSION="1.2.24",e.AVSdkUrl="https://cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js",e.GravatarBaseUrl="https://gravatar.loli.net/avatar/",e.MD5="https://cdn.jsdelivr.net/gh/MHuiG/mhuig.github.io/libs/md5/md5.min.js",e.lazysizes="https://cdn.jsdelivr.net/npm/lazysizes/lazysizes.min.js",e.ip="https://api.ip.sb/jsonip?callback=getIP",e.DefaultEmailHash="9e63c80900d106cbbec5a9f4ea433a3e",e.EmoticonUrl="https://cdn.jsdelivr.net/npm/alus",e.i18nUrl="https://cdn.jsdelivr.net/gh/MiniValine/minivaline-i18n@master/",e.MaxNestLevel=3,e.PageSize=6,e.Comment={ip:"",comment:"",rid:"",at:"",nick:"",mail:"",link:"",ua:navigator.userAgent,url:location.pathname,pin:0}},function(t,e,n){var i=n(5),r=n(31);for(var o in(e=t.exports=function(t,e){return new r(e).process(t)}).FilterCSS=r,i)e[o]=i[o];"undefined"!=typeof window&&(window.filterCSS=t.exports)},function(t,e){t.exports={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,r;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/.exec(t);return e?e.index:-1}}},function(t,e,n){"use strict";var i=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.push(("v="+Math.random()).replace(".","")),e.join("&")};t.exports=function(t){(t=t||{}).type=(t.type||"GET").toUpperCase(),t.dataType=t.dataType||"json";var e=i(t.data);if(window.XMLHttpRequest)var n=new XMLHttpRequest;else n=new ActiveXObject("Microsoft.XMLHTTP");n.onreadystatechange=function(){if(4==n.readyState){var e=n.status;e>=200&&e<300?t.success&&t.success(n.responseText,n.responseXML):t.fail&&t.fail(e)}},"GET"==t.type?(n.open("GET",t.url+"?"+e,!0),n.send(null)):"POST"==t.type&&(n.open("POST",t.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e))}},function(t,e,n){var i=n(1).FilterCSS,r=n(1).getDefaultWhiteList,o=n(2);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var l=new i;function s(t){return t.replace(c,"&lt;").replace(u,"&gt;")}var c=/</g,u=/>/g,d=/"/g,f=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,v=/&newline;?/gim,g=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,h=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function y(t){return t.replace(d,"&quot;")}function w(t){return t.replace(f,'"')}function x(t){return t.replace(p,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function k(t){return t.replace(m,":").replace(v," ")}function A(t){for(var e="",n=0,i=t.length;n<i;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return o.trim(e)}function S(t){return t=A(t=k(t=x(t=w(t))))}function C(t){return t=s(t=y(t))}var M=/<!--[\s\S]*?-->/g;e.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},e.getDefaultWhiteList=a,e.onTag=function(t,e,n){},e.onIgnoreTag=function(t,e,n){},e.onTagAttr=function(t,e,n){},e.onIgnoreTagAttr=function(t,e,n){},e.safeAttrValue=function(t,e,n,i){if(n=S(n),"href"===e||"src"===e){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===e){if(g.lastIndex=0,g.test(n))return""}else if("style"===e){if(h.lastIndex=0,h.test(n))return"";if(b.lastIndex=0,b.test(n)&&(g.lastIndex=0,g.test(n)))return"";!1!==i&&(n=(i=i||l).process(n))}return n=C(n)},e.escapeHtml=s,e.escapeQuote=y,e.unescapeQuote=w,e.escapeHtmlEntities=x,e.escapeDangerHtml5Entities=k,e.clearNonPrintableCharacter=A,e.friendlyAttrValue=S,e.escapeAttrValue=C,e.onIgnoreTagStripAll=function(){return""},e.StripTagBody=function(t,e){"function"!=typeof e&&(e=function(){});var n=!Array.isArray(t),i=[],r=!1;return{onIgnoreTag:function(a,l,s){if(function(e){return!!n||-1!==o.indexOf(t,e)}(a)){if(s.isClosing){var c="[/removed]",u=s.position+c.length;return i.push([!1!==r?r:s.position,u]),r=!1,c}return r||(r=s.position),"[removed]"}return e(a,l,s)},remove:function(t){var e="",n=0;return o.forEach(i,(function(i){e+=t.slice(n,i[0]),n=i[1]})),e+=t.slice(n)}}},e.stripCommentTag=function(t){return t.replace(M,"")},e.stripBlankChar=function(t){var e=t.split("");return(e=e.filter((function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))}))).join("")},e.cssFilter=l,e.getDefaultCSSWhiteList=r},function(t,e){function n(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var i=/javascript\s*\:/gim;e.whiteList=n(),e.getDefaultWhiteList=n,e.onAttr=function(t,e,n){},e.onIgnoreAttr=function(t,e,n){},e.safeAttrValue=function(t,e){return i.test(e)?"":e}},function(t,e){t.exports={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,r;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}}},function(t,e,n){var i=n(2);function r(t){var e=i.spaceIndex(t);if(-1===e)var n=t.slice(1,-1);else n=t.slice(1,e+1);return"/"===(n=i.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(t){return"</"===t.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function l(t,e){for(;e<t.length;e++){var n=t[e];if(" "!==n)return"="===n?e:-1}}function s(t,e){for(;e>0;e--){var n=t[e];if(" "!==n)return"="===n?e:-1}}function c(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}e.parseTag=function(t,e,n){var i="",a=0,l=!1,s=!1,c=0,u=t.length,d="",f="";for(c=0;c<u;c++){var p=t.charAt(c);if(!1===l){if("<"===p){l=c;continue}}else if(!1===s){if("<"===p){i+=n(t.slice(a,c)),l=c,a=c;continue}if(">"===p){i+=n(t.slice(a,l)),d=r(f=t.slice(l,c+1)),i+=e(l,i.length,d,f,o(f)),a=c+1,l=!1;continue}if(('"'===p||"'"===p)&&"="===t.charAt(c-1)){s=p;continue}}else if(p===s){s=!1;continue}}return a<t.length&&(i+=n(t.substr(a))),i},e.parseAttr=function(t,e){var n=0,r=[],o=!1,u=t.length;function d(t,n){if(!((t=(t=i.trim(t)).replace(a,"").toLowerCase()).length<1)){var o=e(t,n||"");o&&r.push(o)}}for(var f=0;f<u;f++){var p,m=t.charAt(f);if(!1!==o||"="!==m)if(!1===o||f!==n||'"'!==m&&"'"!==m||"="!==t.charAt(f-1))if(/\s|\n|\t/.test(m)){if(t=t.replace(/\s|\n|\t/g," "),!1===o){if(-1===(p=l(t,f))){d(i.trim(t.slice(n,f))),o=!1,n=f+1;continue}f=p-1;continue}if(-1===(p=s(t,f-1))){d(o,c(i.trim(t.slice(n,f)))),o=!1,n=f+1;continue}}else;else{if(-1===(p=t.indexOf(m,f+1)))break;d(o,i.trim(t.slice(n+1,p))),o=!1,n=(f=p)+1}else o=t.slice(n,f),n=f+1}return n<t.length&&(!1===o?d(t.slice(n)):d(o,c(i.trim(t.slice(n))))),i.trim(r.join(" "))}},,function(t,e,n){"use strict";var i,r=n(10),o=(i=r)&&i.__esModule?i:{default:i},a=n(0);n.e(4).then(n.t.bind(null,34,7));var l=function(t){return console.log("%c MiniValine %c v"+a.VERSION+" ","color: white; background: #0078E7; padding:5px 0;","padding:4px;border:1px solid #0078E7;"),new o.default(t)};t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var i=a(n(11)),r=a(n(19)),o=n(0);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){this.config=t,r.default.Config(this),r.default.i18n(this),r.default.script(this),r.default.smile(this),r.default.GetIP(this),this.initCheck()};l.prototype.initCheck=function(){var t=this,e=setInterval((function(){void 0!==t.i18n&&"undefined"!=typeof md5&&"undefined"!=typeof AV&&(clearInterval(e),t.initBody())}),5)},l.prototype.initBody=function(){var t=this;try{i.default.el(t),i.default.loading(t),t.nodata.show();var e=setInterval((function(){void 0!==t.emoticonList&&(clearInterval(e),i.default.smiles(t))}),10);r.default.setAV(t)}catch(t){return void console.log(t)}t.loading.hide();var n=t.el.querySelector(".vmark");t.alert={show:function(e){n.innerHTML='<div class="valert txt-center"><div class="vtext">'.concat(e.text,'</div><div class="vbtns"></div></div>');var i=n.querySelector(".vbtns"),o='<button class="vcancel vbtn">'.concat(e.ctxt||t.i18n.cancel,"</button>"),a='<button class="vsure vbtn">'.concat(e.otxt||t.i18n.continue,"</button>");if(i.innerHTML="".concat(o).concat(e.type&&a),n.querySelector(".vcancel").addEventListener("click",(function(e){t.alert.hide()})),n.setAttribute("style","display:block;"),e.type){var l=n.querySelector(".vsure");r.default.dom.on("click",l,(function(n){t.alert.hide(),e.cb&&e.cb()}))}},hide:function(){n.setAttribute("style","display:none;")}},t.loading.show();var o=new t.v.Query("Comment");o.equalTo("url",t.Comment.url);var a=new t.v.Query("Comment");a.equalTo("url","".concat(t.Comment.url,"/"));var l=AV.Query.or(o,a);l.notEqualTo("isSpam",!0),l.count().then((function(e){t.el.querySelector(".count").innerHTML=e})).catch((function(e){console.log(e),t.el.querySelector(".count").innerHTML=0})),t.bind()},l.prototype.bind=function(){var t=this,e=t.el.querySelector(".vsmile-icons");r.default.dom.on("click",e,(function(e){var n=t.el.querySelector(".veditor"),i=e.target.src;if(void 0!==i){var r="!(:".concat(decodeURI(i).replace(/^.*\/(.*)$/,"$1"),":)");if(document.selection)n.focus(),document.selection.createRange().text=r,n.focus();else if(n.selectionStart){var o=n.selectionStart,a=n.selectionEnd,l=a;n.value=n.value.substring(0,o)+r+n.value.substring(a,n.value.length),l+=r.length,n.focus(),n.selectionStart=l,n.selectionEnd=l}else n.value+=r,n.focus();t.Comment.comment=n.value;var s=t.el.querySelector(".vsubmit");s.getAttribute("disabled")&&s.removeAttribute("disabled")}}));var a=t.el.querySelector(".commentTrigger");r.default.dom.on("click",a,(function(e){a.setAttribute("style","display:none"),t.el.querySelector(".auth-section").removeAttribute("style"),t.el.querySelector(".veditor").focus()})),r.default.dom.on("click",t.el.querySelector(".vcancel-comment-reply"),(function(e){t.reset()}));var l=function(t){t.offsetHeight>180&&(t.classList.add("expand"),r.default.dom.on("click",t,(function(e){t.setAttribute("class","vcomment")})))},s=1,c=0;t.v.Query.doCloudQuery("select count(*) from Comment where (rid='' or rid is not exists) and (url='".concat(t.Comment.url,"' or url='","".concat(t.Comment.url,"/"),"') order by -createdAt")).then((function(e){c=e.count,function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.loading.show();var i=t.v.Query.doCloudQuery("select nick, comment, link, rid, emailHash, isSpam from Comment where (rid='' or rid is not exists) and (url='".concat(t.Comment.url,"' or url='","".concat(t.Comment.url,"/"),"') order by -createdAt limit ").concat((n-1)*t.pageSize,",").concat(t.pageSize));i.then((function(i){var o=(i=i&&i.results||[]).length;if(o){for(var a=0;a<o;a++)if(!i[a].get("isSpam")){var l=d(i[a],t.el.querySelector(".vlist"),!1);l.setAttribute("style","margin-bottom: .5em"),u(l)}var f=t.el.querySelector(".vpage");f.innerHTML=t.pageSize*n<c?'<div id="vmore" class="more">'.concat(t.i18n.more,"</div>"):"";var p=f.querySelector("#vmore");p&&r.default.dom.on("click",p,(function(t){f.innerHTML="",e(++s)}))}t.loading.hide(),r.default.MathJaxSupport(t)})).catch((function(e){console.log(e),t.loading.hide()}))}(1)})).catch((function(t){console.log(t)}));var u=function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=n.querySelector(".vcomment-children"),a=o.querySelector(".vlist"),l=n.getAttribute("id");i<=0&&o.setAttribute("style","margin-left: 0 !important"),i>=t.maxNestLevel?t.v.Query.doCloudQuery("select count(*) from Comment where rid='".concat(l,"' and (url='").concat(t.Comment.url,"' or url='","".concat(t.Comment.url,"/"),"') order by -createdAt")).then((function(i){if(i.count>0){var a=o.querySelector(".vshow-children-wrapper");a.setAttribute("style","display: block !important;"),a.innerHTML='<span class="vshow-children" rid="'.concat(l,'">').concat(t.i18n.more,"</span>");var s=a.querySelector(".vshow-children");r.default.dom.on("click",s,(function(t){a.setAttribute("style","display: none !important;"),e(n,-1e3)}))}}),(function(t){console.log(t)})):t.v.Query.doCloudQuery("select nick, comment, link, rid, emailHash, isSpam from Comment where rid='".concat(l,"' and (url='").concat(t.Comment.url,"' or url='","".concat(t.Comment.url,"/"),"') order by -createdAt")).then((function(t){var n=(t=t&&t.results||[]).length;if(n)for(var r=0;r<n;r++)if(!t[r].get("isSpam")){var o=d(t[r],a,!0);e(o,i+1)}})).catch((function(e){console.log(e),t.loading.hide()}))},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.createElement("li");o.setAttribute("class","vcard"),o.setAttribute("id",e.id),o.innerHTML=i.default.vcard(t,e);for(var a=n||t.el.querySelector(".vlist"),s=a.querySelectorAll("li"),c=o.querySelectorAll("a"),u=0,d=c.length;u<d;u++){var f=c[u];f&&"at"!==f.getAttribute("class")&&(f.setAttribute("target","_blank"),f.setAttribute("rel","nofollow"))}r?a.insertBefore(o,s[0]):a.appendChild(o);var p=o.querySelector(".vcomment");return l(p),k(o),o},f={veditor:"comment",vnick:"nick",vlink:"link",vmail:"mail"},p={};for(var m in f)f.hasOwnProperty(m)&&function(){var e=f[m],n=t.el.querySelector(".".concat(m));p[e]=n,r.default.dom.on("input",n,(function(i){t.Comment[e]=n.value}))}();var v=function(){var e=localStorage&&localStorage.getItem("MiniValineCache");if(e){e=JSON.parse(e);for(var n=["nick","link","mail"],i=0;i<n.length;i++){var r=n[i];t.el.querySelector(".v".concat(r)).value=e[r],t.Comment[r]=e[r]}if(""!==e.mail)t.el.querySelector(".visitor_avatar").setAttribute("src","".concat(o.GravatarBaseUrl+md5(e.mail.toLowerCase().trim()),"?size=80&d=https%3a%2f%2fgravatar.loli.net%2favatar%2f9e63c80900d106cbbec5a9f4ea433a3e.jpg%3fsize%3d80"))}};v(),t.reset=function(){for(var e in f)if(f.hasOwnProperty(e)){var n=f[e];t.el.querySelector(".".concat(e)).value="",t.Comment[n]=""}t.Comment.rid="",t.Comment.nick="",v(),b.getAttribute("triggered")&&(b.setAttribute("style","display:none;"),b.removeAttribute("triggered")),w.getAttribute("triggered")&&(w.setAttribute("style","display:none;"),w.removeAttribute("triggered")),t.el.querySelector(".vcancel-comment-reply").setAttribute("style","display:none"),t.el.querySelector("#vinputs-placeholder").appendChild(t.el.querySelector(".vinputs-wrap"))};var g=t.el.querySelector(".vsubmit"),h=t.el.querySelector(".vemoji-btn"),b=t.el.querySelector(".vsmile-icons");r.default.dom.on("click",h,(function(t){w.getAttribute("triggered")&&(w.setAttribute("style","display:none;"),w.removeAttribute("triggered")),b.getAttribute("triggered")?(b.setAttribute("style","display:none;"),b.removeAttribute("triggered")):(b.removeAttribute("style"),b.setAttribute("triggered",1))}));var y=t.el.querySelector(".vpreview-btn"),w=t.el.querySelector(".vpreview-text");r.default.dom.on("click",y,(function(e){if(b.getAttribute("triggered")&&(b.setAttribute("style","display:none;"),b.removeAttribute("triggered")),w.getAttribute("triggered"))w.setAttribute("style","display:none;"),w.removeAttribute("triggered");else{if(""===t.Comment.comment)return void p.comment.focus();var i=function(){w.removeAttribute("style"),w.setAttribute("triggered",1),r.default.MathJaxSupport(t)};t.md||void 0===t.config.md?Promise.all([n.e(5),n.e(2)]).then(n.t.bind(null,8,7)).then((function(e){var n=e.markdown;w.innerHTML=n(r.default.MakeComment(t)),i()})):(w.innerHTML=r.default.MakeComment(t),i())}}));var x=function(){g.setAttribute("disabled",!0),t.submitting.show();var e,n=new(t.v.Object.extend("Comment"));for(var i in t.Comment)if(t.Comment.hasOwnProperty(i)){if("at"===i)continue;var o=t.Comment[i];n.set(i,o)}n.set("emailHash",md5(t.Comment.mail.toLowerCase().trim())),n.setACL(((e=new t.v.ACL).setPublicReadAccess(!0),e.setPublicWriteAccess(!1),e)),n.save().then((function(e){localStorage&&localStorage.setItem("MiniValineCache",JSON.stringify({nick:t.Comment.nick,link:t.Comment.link,mail:t.Comment.mail}));var n=t.el.querySelector(".count");if(n.innerText=Number(n.innerText)+1,""===t.Comment.rid)d(e,null,!0);else{var i=t.el.querySelector("#children-list-".concat(t.Comment.rid));d(e,i,!0)}g.removeAttribute("disabled"),t.submitting.hide(),t.nodata.hide(),t.reset(),r.default.MathJaxSupport(t)})).catch((function(e){t.submitting.hide()}))},k=function(e){var n=e.getAttribute("id"),i=e.querySelector("#at-".concat(n));r.default.dom.on("click",i,(function(r){var o=i.getAttribute("at"),a=i.getAttribute("rid");t.Comment.rid=a,t.Comment.at=o,p.comment.value="".concat(o," ，").concat(p.comment.value),e.querySelector("#comment-".concat(n)).appendChild(t.el.querySelector(".vinputs-wrap")),t.el.querySelector(".vcancel-comment-reply").removeAttribute("style"),t.el.querySelector(".commentTrigger").setAttribute("style","display:none"),t.el.querySelector(".auth-section").removeAttribute("style"),t.el.querySelector(".veditor").focus(),p.comment.focus()}))};r.default.dom.on("click",g,(function(e){if(g.getAttribute("disabled"))t.alert.show({type:0,text:'再等等，评论正在提交中ヾ(๑╹◡╹)ﾉ"',ctxt:"好的"});else if(""!==t.Comment.comment)if(""!==t.Comment.nick){var i=function(){if(t.Comment.comment.indexOf(t.Comment.at)>-1&&""!==t.Comment.at){var e='<a class="at" href=\'#'.concat(t.Comment.rid,"'>").concat(t.Comment.at,"</a>");t.Comment.comment=t.Comment.comment.replace(t.Comment.at,e)}var n=r.default.check.mail(t.Comment.mail),i=r.default.check.link(t.Comment.link);t.Comment.mail=n.k?n.v:"",t.Comment.link=i.k?i.v:"",n.k&&i.k?x():t.alert.show({type:0,text:t.i18n.inputTips,ctxt:t.i18n.confirm})};t.md||void 0===t.config.md?Promise.all([n.e(5),n.e(2)]).then(n.t.bind(null,8,7)).then((function(e){var n=e.markdown;t.Comment.comment=n(r.default.MakeComment(t)),i()})):(t.Comment.comment=r.default.MakeComment(t),i())}else p.nick.focus();else p.comment.focus()}))},t.exports=l},function(t,e,n){"use strict";var i=l(n(12)),r=l(n(14)),o=l(n(15)),a=l(n(16));function l(t){return t&&t.__esModule?t:{default:t}}t.exports={vcard:i.default,loading:r.default,smiles:o.default,el:a.default}},function(t,e,n){"use strict";var i,r=n(0),o=n(13),a=(i=o)&&i.__esModule?i:{default:i};t.exports=function(t,e){var n=e.get("emailHash"),i="".concat(r.GravatarBaseUrl+n,"?size=80&d=https%3a%2f%2fgravatar.loli.net%2favatar%2f9e63c80900d106cbbec5a9f4ea433a3e.jpg%3fsize%3d80");return'<div class="vcomment-body"><div class="vhead" >'+'<img class="vavatar lazyload" data-src="'.concat(i,'"/>')+"<a rid='".concat(e.id,"' at='@").concat(e.get("nick"),'\' class="vat" id="at-').concat(e.id,'">').concat(t.i18n.reply,"</a>")+'<div class="vmeta-info">'.concat(e.get("link")?'<a class="vname" href="'.concat(e.get("link"),'" target="_blank" rel="nofollow" > ').concat(e.get("nick"),"</a>"):'<span class="vname">'.concat(e.get("nick"),"</span>")).concat(n===t.adminEmailMd5.toLowerCase().trim()?'<span class="spacer">·</span><span class="vtime"><svg xmlns:xlink="http://www.w3.org/1999/xlink" p-id="1615" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024" style="height: .8em;width: .8em;fill: #777;" class="icon" t="1559101574545"><defs><style type="text/css"></style></defs><path d="M582.044306 993.554603l17.113098-99.494753-72.233191-70.442285c-25.072678-24.27672-34.027206-57.109988-24.07773-87.555383 9.949475-30.445394 36.41508-51.538282 70.840264-56.51302l87.356393-12.735328c-3.780801-2.586864-7.163622-5.173727-10.347454-7.95958-10.944423-9.551496-18.705014-19.699961-23.480762-30.047415s-7.561601-21.092888-8.15857-31.440342c-0.596969-10.546444 0-20.893898 1.989895-31.042363 1.392927-8.15857 3.581811-15.123202 6.168675-20.893898 2.586864-5.770696 5.969685-10.546444 10.148465-14.725223 4.17878-3.97979 8.755538-7.95958 14.327244-11.541391 5.571706-3.780801 11.143412-8.15857 17.312087-13.730276 5.372717-4.775748 10.148465-11.342402 14.725223-19.898951 4.17878-8.357559 8.15857-17.113098 11.541391-25.868636 3.382822-9.949475 6.566654-20.694909 9.153517-31.440342 6.765643-1.989895 13.133307-5.571706 19.301982-11.143412 5.372717-4.775748 10.148465-11.342402 14.725223-19.898951 4.17878-8.556549 7.561601-19.699961 9.551496-34.027206 1.392927-10.944423 1.193937-19.898951-0.397979-27.460552-1.591916-7.561601-3.97979-13.531286-6.566654-18.307035-2.586864-5.571706-6.367664-9.750486-11.143412-12.337349 0.596969-27.062573-0.994948-54.324135-5.173727-81.386708-3.183832-23.082783-9.153517-47.558492-17.710066-73.626117s-21.291877-49.946366-38.205985-71.636222c-7.561601-9.551496-17.312087-18.904003-29.649436-28.05752-11.93937-9.153517-26.067625-17.312087-41.588807-24.873688-15.720171-7.561601-32.43529-13.531286-50.344345-18.307035s-37.012048-7.163622-56.51302-7.163622c-15.720171 0-31.838321 1.591916-48.35445 4.17878-16.715119 2.984843-33.032258 7.561601-49.349398 14.327244-16.31714 6.765643-32.43529 16.11815-48.35445 28.05752s-30.246405 27.062573-43.180723 45.369607c-13.531286 19.500972-23.878741 41.588807-31.042363 66.064516-7.163622 24.475709-12.13836 47.558492-14.725223 69.248348-3.581811 25.868636-4.775748 51.737272-4.17878 77.406918-5.571706 6.964633-9.750486 13.929265-12.337349 21.490867-2.785853 6.765643-4.576759 14.725223-5.571706 23.878741-1.193937 9.153517 0 19.699961 3.382822 31.042363 3.581811 11.541391 7.561601 20.29693 12.337349 26.465604 4.775748 6.168675 9.153517 10.944423 13.332297 14.327244 4.775748 3.581811 9.551496 5.770696 14.327244 7.163622 3.382822 10.745433 6.765643 21.291877 10.148465 31.440342 3.382822 8.755538 6.964633 17.312087 11.143412 25.868636 4.17878 8.556549 8.755538 15.123202 14.327244 19.898951 11.740381 9.551496 21.888846 18.705014 31.042363 27.460552 9.153517 8.755538 14.327244 21.291877 15.720171 37.609017 0.596969 10.347454 0.994948 19.898951 0.994948 28.654489 0 8.954528-1.591916 17.312087-4.576759 25.470657-2.984843 8.15857-8.556549 16.31714-16.31714 24.475709-7.760591 8.15857-18.705014 16.715119-33.032258 25.470657-17.511077 11.541391-38.006996 20.29693-61.487757 26.465604-23.480762 6.168675-125.761368 41.389817-147.849203 48.951419-21.888846 7.362612-41.190828 17.511077-57.507967 30.445394-16.11815 12.735328-26.266615 31.838321-30.445394 56.910999C2.387875 881.52351 0.994949 888.488143 4.57676 916.346674c3.581811 27.659541 9.153517 44.17567 16.715119 49.747377 6.168675 4.576759 23.679751 10.148465 52.931209 16.715119 29.251457 6.566654 213.11776 41.190828 426.633501 41.190828 27.858531 0 54.722114-0.596969 80.59075-1.790906C580.253401 1012.856585 580.45239 1003.305088 582.044306 993.554603z" p-id="1616"></path><path d="M1004.300038 748.399532l-106.459386-15.521182c-16.31714-2.387874-35.619122-16.31714-42.981733-31.241353l-47.558492-96.509911c-3.581811-7.362612-8.556549-11.143412-13.332297-11.143412-4.775748 0-9.551496 3.780801-13.332297 11.143412l-47.558492 96.509911c-7.362612 14.725223-26.664594 28.853478-42.981733 31.241353l-106.459386 15.521182c-16.31714 2.387874-20.09794 13.730276-8.15857 25.271667l77.008939 75.019044c11.740381 11.541391 19.102993 34.226195 16.31714 50.543335l-18.108045 106.061407c-1.989895 11.740381 2.586864 18.705014 10.745433 18.705014 3.183832 0 6.765643-0.994948 10.745433-3.183832l95.116984-50.145356c7.362612-3.780801 16.914108-5.770696 26.465604-5.770696 9.551496 0 19.301982 1.989895 26.465604 5.770696l95.116984 50.145356c3.97979 2.188885 7.760591 3.183832 10.745433 3.183832 8.15857 0 12.735328-6.964633 10.745433-18.705014l-18.108045-106.061407c-2.785853-16.31714 4.576759-39.001943 16.31714-50.543335l77.008939-75.019044C1024.198988 762.129808 1020.617177 750.787406 1004.300038 748.399532z" p-id="1617"></path></svg></span><span class="spacer">·</span>':'<span class="spacer">·</span>')+'<span class="vtime">'.concat((0,a.default)(e.get("createdAt"),t.i18n),"</span>")+"</div></div>"+'<section class="text-wrapper"  id="comment-'.concat(e.id,'">')+'<div class="vcomment">'.concat(e.get("comment"),"</div>")+'</section></div><div class="vcomment-children"><div class="vshow-children-wrapper" style="display: none"></div>'+'<ul class="vlist" id="children-list-'.concat(e.id,'"></ul>')+"</div>"}},function(t,e,n){"use strict";var i=function(t){var e=r(t.getDate(),2),n=r(t.getMonth()+1,2),i=r(t.getFullYear(),2);return"".concat(i,"-").concat(n,"-").concat(e)},r=function(t,e){for(var n=t.toString();n.length<e;)n="0".concat(n);return n};t.exports=function(t,e){try{var n=t.getTime(),r=(new Date).getTime()-n,o=Math.floor(r/864e5);if(0===o){var a=r%864e5,l=Math.floor(a/36e5);if(0===l){var s=a%36e5,c=Math.floor(s/6e4);if(0===c){var u=s%6e4,d=Math.round(u/1e3);return 0===d?e.now:"".concat(d," ").concat(e.seconds)}return"".concat(c," ").concat(e.minutes)}return"".concat(l," ").concat(e.hours)}return o<0?e.now:o<365?"".concat(o," ").concat(e.days):i(t)}catch(t){console.log(t)}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.el.querySelector(".vempty");t.nodata={show:function(n){e.innerHTML=n||t.i18n.noCommentYet,e.setAttribute("style","display:block;")},hide:function(){e.setAttribute("style","display:none;")}};var n='<div class="spinner"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div></div>',i=t.el.querySelector(".vloading");i.innerHTML=n,t.loading={show:function(){i.setAttribute("style","display:block;"),t.nodata.hide()},hide:function(){i.setAttribute("style","display:none;"),0===t.el.querySelectorAll(".vcard").length&&t.nodata.show()}};var r=t.el.querySelector(".vsubmitting");r.innerHTML=n,t.submitting={show:function(){r.setAttribute("style","display:block;")},hide:function(){r.setAttribute("style","display:none;"),t.nodata.hide()}}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.el.querySelector(".vsmile-icons"),n=t.emoticonList||[];for(var i in n)if(n.hasOwnProperty(i)){var r=document.createElement("img");r.setAttribute("data-src","".concat(t.emoticonUrl,"/").concat(n[i])),r.setAttribute("class","lazyload"),e.appendChild(r)}}},function(t,e,n){"use strict";var i,r=n(17),o=(i=r)&&i.__esModule?i:{default:i};t.exports=function(t){var e="[object HTMLDivElement]"===toString.call(t.config.el)?t.config.el:document.querySelectorAll(t.config.el)[0];"[object HTMLDivElement]"===toString.call(e)&&(t.el=e,t.el.classList.add("MiniValine"),t.el.innerHTML=(0,o.default)(t))}},function(t,e,n){"use strict";var i,r=n(0),o=n(18),a=(i=o)&&i.__esModule?i:{default:i};t.exports=function(t){return'<div id="vinputs-placeholder"><div class="vinputs-wrap">'+'<p class="vcancel-comment-reply" href="#" rel="nofollow" style="display:none">'.concat(t.i18n.cancelReply,"</p>")+'<div class="vinputs-area"><div class="textarea-wrapper"><div class="commentTrigger">'+'<div class="avatar"><img class="visitor_avatar lazyload" data-src="'.concat("".concat(r.GravatarBaseUrl+r.DefaultEmailHash,"?size=80"),'"></div>')+'<div class="trigger_title">'.concat(t.placeholder,"</div>")+'</div><div class="veditor-area"><textarea placeholder="" class="veditor"></textarea><div class="btn-wrap">'+'<div class="vpreview-btn vfunction-btn" title="'.concat(t.i18n.preview,'">')+'<svg t="1551146416896" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2051" xmlns:xlink="http://www.w3.org/1999/xlink" width="1.5em" height="1.5em"><defs><style type="text/css"></style></defs><path d="M862.516 161.07l44.62 44.38-286.303 288.866-45.668-45.615L862.516 161.07z m1.233 1.233" p-id="2052"></path><path d="M832.162 959.558H128.025V191.784h512.099v64.169H192.037V895.64h576.112V512.127h64.012v447.431z m0.833 0.533" p-id="2053"></path><path d="M256.05 703.994h384.075v63.919H256.05v-63.919z m0-127.769l320.062-0.069v63.919H256.05v-63.85z m0-128.317h192.037v63.891l-192.037 0.028v-63.919z m0 0" p-id="2054"></path></svg></div>'+'<div class="vemoji-btn vfunction-btn" title="'.concat(t.i18n.emoji,'">')+'<svg t="1551146424708" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2169" xmlns:xlink="http://www.w3.org/1999/xlink" width="1.5em" height="1.5em"><defs><style type="text/css"></style></defs><path d="M513.028 63.766c-247.628 0-448.369 200.319-448.369 447.426S265.4 958.617 513.028 958.617s448.369-200.319 448.369-447.426S760.655 63.766 513.028 63.766z m-0.203 823.563c-207.318 0-375.382-167.71-375.382-374.592s168.064-374.592 375.382-374.592 375.382 167.71 375.382 374.592-168.064 374.592-375.382 374.592z" p-id="2170"></path><path d="M514.029 767.816c-99.337 0-188.031-54.286-251.889-146.146-10.647-16.703-7.1-33.399 7.094-45.93 14.192-12.529 28.384-8.349 39.025 8.349 49.67 75.164 124.174 116.92 205.77 116.92s163.199-45.93 209.316-125.268c10.647-16.703 24.833-16.703 39.025-8.349 14.194 12.524 14.194 29.227 7.094 45.93-60.312 96.035-152.553 154.494-255.435 154.494zM464.292 402.959l-45.151-45.151-0.05 0.05-90.45-90.45-45.15 45.15 90.45 90.45-90.45 90.451 45.15 45.15 90.45-90.45 0.05 0.05 45.151-45.151-0.05-0.05zM556.611 402.959l45.151-45.151 0.05 0.05 90.45-90.45 45.15 45.15-90.45 90.45 90.45 90.451-45.15 45.15-90.45-90.45-0.05 0.05-45.151-45.151 0.05-0.05z" p-id="2171"></path></svg></div></div></div><div class="vextra-area"><div class="vsmile-icons" style="display:none"></div><div class="vpreview-text" style="display:none"></div></div></div><section class="auth-section" style="display:none;">'+'<div class="input-wrapper"><input type="text" name="author" class="vnick" placeholder="'.concat(t.i18n.nick,'" value=""></div>')+'<div class="input-wrapper"><input type="email" name="email" class="vmail" placeholder="'.concat(t.i18n.mail,'" value=""></div>')+'<div class="input-wrapper"><input type="text" name="website" class="vlink" placeholder="'.concat(t.i18n.link,'" value=""></div>')+'<div class="post-action"><button type="button" class="vsubmit">'.concat(t.i18n.reply,"</button></div>")+'</section><div style="display:none;" class="vmark"></div></div><div class="vsubmitting" style="display:none;"></div></div></div><div class="info">'+'<div class="col"> '.concat((0,a.default)(t.i18n.commentCount,'<span class="count">0</span>'),"</div>")+'</div><ul class="vlist"><li class="vempty"></li></ul><div class="vloading"></div><div class="vpage txt-center"></div>'}},function(t,e,n){(function(e){"use strict";function n(t){var e=new Error(t);return e.name="ValueError",e}function i(t){return function(e){var i=Array.prototype.slice.call(arguments,1),r=0,o="UNDEFINED";return e.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,(function(e,a,l,s){if(null!=a)return a;var c=l;if(c.length>0){if("IMPLICIT"===o)throw n("cannot switch from implicit to explicit numbering");o="EXPLICIT"}else{if("EXPLICIT"===o)throw n("cannot switch from explicit to implicit numbering");o="IMPLICIT",c=String(r),r+=1}var u=c.split("."),d=(/^\d+$/.test(u[0])?u:["0"].concat(u)).reduce((function(t,e){return t.reduce((function(t,n){return null!=n&&e in Object(n)?["function"==typeof n[e]?n[e]():n[e]]:[]}),[])}),[i]).reduce((function(t,e){return e}),"");if(null==s)return d;if(Object.prototype.hasOwnProperty.call(t,s))return t[s](d);throw n('no transformer named "'+s+'"')}))}}var r=i({});r.create=i,r.extend=function(t,n){var r=i(n);t.format=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),r.apply(e,t)}},t.exports=r}).call(this,this)},function(t,e,n){"use strict";var i=p(n(20)),r=p(n(21)),o=p(n(22)),a=p(n(23)),l=p(n(24)),s=p(n(25)),c=p(n(26)),u=p(n(27)),d=p(n(28)),f=p(n(29));function p(t){return t&&t.__esModule?t:{default:t}}t.exports={Config:i.default,i18n:r.default,GetIP:o.default,setAV:a.default,dom:l.default,MathJaxSupport:s.default,check:c.default,smile:u.default,script:d.default,MakeComment:f.default}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){t.emoticonUrl=t.config.emoticonUrl||i.EmoticonUrl,t.lang=t.config.lang||navigator.language||navigator.userLanguage,t.maxNestLevel=t.config.maxNest||i.MaxNestLevel,t.pageSize=t.config.pageSize||i.PageSize,t.adminEmailMd5=t.config.adminEmailMd5||"",t.math=t.config.math,t.md=t.config.md,t.placeholder=t.config.placeholder||"",t.Comment=i.Comment,t.Comment.url=t.config.pathname||location.pathname.replace(/\/$/,"")}},function(module,exports,__webpack_require__){"use strict";var _Default=__webpack_require__(0),_ajax=__webpack_require__(3),_ajax2=_interopRequireDefault(_ajax);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var i18n=function i18n(root){(0,_ajax2.default)({url:_Default.i18nUrl+root.lang+"/index.json",type:"GET",success:function success(data){data=eval("("+data+")"),root.i18n=data}})};module.exports=i18n},function(t,e,n){"use strict";t.exports=function(t){window.getIP=function(e){t.Comment.ip=e.ip}}},function(t,e,n){"use strict";t.exports=function(t){var e,n="https://";if(!t.config.serverURLs)switch(t.config.appId.slice(-9)){case"-9Nh9j0Va":n+="tab.";break;case"-MdYXbMMI":n+="us."}e=t.config.serverURLs||"".concat(n,"avoscloud.com"),void 0===window.disableAVInit&&(AV.init({appId:t.config.appId,appKey:t.config.appKey,serverURLs:e}),window.disableAVInit=!0),t.v=AV}},function(t,e,n){"use strict";var i={on:function(t,e,n,r){for(var o=0,a=(t=t.split(" ")).length;o<a;o++)i.off(t[o],e,n,r),e.addEventListener?e.addEventListener(t[o],n,r||!1):e.attachEvent?e.attachEvent("on".concat(t[o]),n):e["on".concat(t[o])]=n},off:function(t,e,n,i){for(var r=0,o=(t=t.split(" ")).length;r<o;r++)e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent?e.detachEvent("on".concat(t),n):e["on".concat(t)]=null}};t.exports=i},function(t,e,n){"use strict";t.exports=function(t){"undefined"!=typeof MathJax||!t.math&&void 0!==t.config.math||n.e(1).then(n.t.bind(null,35,7)).then((function(t){(0,t.initMathJax)()})),"undefined"!=typeof MathJax&&MathJax.Hub.Typeset(document.getElementsByClassName("MiniValine"))}},function(t,e,n){"use strict";t.exports={mail:function(t){return{k:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(t),v:t}},link:function(t){return t.length>0&&(t=/^(http|https)/.test(t)?t:"http://".concat(t)),{k:!(t.length>0)||/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/.test(t),v:t}}}},function(module,exports,__webpack_require__){"use strict";var _Default=__webpack_require__(0),_ajax=__webpack_require__(3),_ajax2=_interopRequireDefault(_ajax);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var smile=function smile(root){(0,_ajax2.default)({url:_Default.EmoticonUrl+"/index.json",type:"GET",success:function success(data){data=eval("("+data+")"),root.emoticonList=data[0]}})};module.exports=smile},function(t,e,n){"use strict";var i=n(0),r=function(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.head.append(e)};t.exports=function(t){r(i.AVSdkUrl),r(i.MD5),r(i.lazysizes),r(i.ip)}},function(t,e,n){"use strict";var i,r=n(30),o=(i=r)&&i.__esModule?i:{default:i};t.exports=function(t){var e=t.Comment.comment.replace(/!\(:(.*?\.\w+):\)/g,'<img src="'.concat(t.emoticonUrl,'/$1" alt="$1" class="vemoticon-img">'));return e=(0,o.default)(e,{onIgnoreTagAttr:function(t,e,n,i){if("class"===e)return"".concat(e,'="').concat(o.default.escapeAttrValue(n),'"')}})}},function(t,e,n){var i=n(4),r=n(7),o=n(33);function a(t,e){return new o(e).process(t)}for(var l in(e=t.exports=a).filterXSS=a,e.FilterXSS=o,i)e[l]=i[l];for(var l in r)e[l]=r[l];"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)},function(t,e,n){var i=n(5),r=n(32);n(6);function o(t){return null==t}function a(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).whiteList=t.whiteList||i.whiteList,t.onAttr=t.onAttr||i.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||i.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||i.safeAttrValue,this.options=t}a.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,i=e.onAttr,a=e.onIgnoreAttr,l=e.safeAttrValue;return r(t,(function(t,e,r,s,c){var u=n[r],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(s):u instanceof RegExp&&(d=u.test(s)),!0!==d&&(d=!1),s=l(r,s)){var f,p={position:e,sourcePosition:t,source:c,isWhite:d};return d?o(f=i(r,s,p))?r+":"+s:f:o(f=a(r,s,p))?void 0:f}}))},t.exports=a},function(t,e,n){var i=n(6);t.exports=function(t,e){";"!==(t=i.trimRight(t))[t.length-1]&&(t+=";");var n=t.length,r=!1,o=0,a=0,l="";function s(){if(!r){var n=i.trim(t.slice(o,a)),s=n.indexOf(":");if(-1!==s){var c=i.trim(n.slice(0,s)),u=i.trim(n.slice(s+1));if(c){var d=e(o,l.length,c,u,n);d&&(l+=d+"; ")}}}o=a+1}for(;a<n;a++){var c=t[a];if("/"===c&&"*"===t[a+1]){var u=t.indexOf("*/",a+2);if(-1===u)break;o=(a=u+1)+1,r=!1}else"("===c?r=!0:")"===c?r=!1:";"===c?r||s():"\n"===c&&s()}return i.trim(l)}},function(t,e,n){var i=n(1).FilterCSS,r=n(4),o=n(7),a=o.parseTag,l=o.parseAttr,s=n(2);function c(t){return null==t}function u(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=r.onIgnoreTagStripAll),t.whiteList=t.whiteList||r.whiteList,t.onTag=t.onTag||r.onTag,t.onTagAttr=t.onTagAttr||r.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||r.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||r.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||r.safeAttrValue,t.escapeHtml=t.escapeHtml||r.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new i(t.css))}u.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,i=e.onTag,o=e.onIgnoreTag,u=e.onTagAttr,d=e.onIgnoreTagAttr,f=e.safeAttrValue,p=e.escapeHtml,m=this.cssFilter;e.stripBlankChar&&(t=r.stripBlankChar(t)),e.allowCommentTag||(t=r.stripCommentTag(t));var v=!1;if(e.stripIgnoreTagBody){v=r.StripTagBody(e.stripIgnoreTagBody,o);o=v.onIgnoreTag}var g=a(t,(function(t,e,r,a,v){var g,h={sourcePosition:t,position:e,isClosing:v,isWhite:n.hasOwnProperty(r)};if(!c(g=i(r,a,h)))return g;if(h.isWhite){if(h.isClosing)return"</"+r+">";var b=function(t){var e=s.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};var n="/"===(t=s.trim(t.slice(e+1,-1)))[t.length-1];return n&&(t=s.trim(t.slice(0,-1))),{html:t,closing:n}}(a),y=n[r],w=l(b.html,(function(t,e){var n,i=-1!==s.indexOf(y,t);return c(n=u(r,t,e,i))?i?(e=f(r,t,e,m))?t+'="'+e+'"':t:c(n=d(r,t,e,i))?void 0:n:n}));a="<"+r;return w&&(a+=" "+w),b.closing&&(a+=" /"),a+=">"}return c(g=o(r,a,h))?p(a):g}),p);return v&&(g=v.remove(g)),g},t.exports=u}])}));
//# sourceMappingURL=MiniValine.min.js.map