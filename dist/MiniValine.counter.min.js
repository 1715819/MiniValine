(window.webpackJsonpMiniValine=window.webpackJsonpMiniValine||[]).push([[3],{100:function(t,e,n){"use strict";var r={},o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","\\":"&#x5c;"};for(var i in o)r[o[i]]=i;var c=/[&<>"'`\\]/g,a=RegExp(c.source),l=/&(?:amp|lt|gt|quot|#39|#x60|#x5c);/g,u=RegExp(l.source),s={on:function(t,e,n,r){for(var o=0,i=(t=t.split(" ")).length;o<i;o++)s.off(t[o],e,n,r),e.addEventListener?e.addEventListener(t[o],n,r||!1):e.attachEvent?e.attachEvent("on".concat(t[o]),n):e["on".concat(t[o])]=n},off:function(t,e,n,r){for(var o=0,i=(t=t.split(" ")).length;o<i;o++)e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent?e.detachEvent("on".concat(t),n):e["on".concat(t)]=null},escape:function(t){return t&&a.test(t)?t.replace(c,(function(t){return o[t]})):t},unescape:function(t){return t&&u.test(t)?t.replace(l,(function(t){return r[t]})):t},create:function(t,e,n){var r=document.createElement(t);return s.attr(r,e,n),r},find:function(t,e){return t.querySelector(e)},findAll:function(t,e){return t.querySelectorAll(e)},attr:function(t,e,n){if(void 0===t.getAttribute)return s.prop(t,e,n);if(void 0!==n)null===n?s.removeAttr(t,e):t.setAttribute(e,n);else{if("[object Object]"!=={}.toString.call(e))return t.getAttribute(e);s.each(e,(function(e,n){t.setAttribute(e,n)}))}},prop:function(t,e,n){return void 0!==n?(t[e]=n,t[e]):"[object Object]"!=={}.toString.call(e)?t[e]:void s.each(e,(function(e,n){t[e]=n}))},removeAttr:function(t,e){var n,r=0,o=e&&e.match(/[^\x20\t\r\n\f\*\/\\]+/g);if(o&&1===t.nodeType)for(;n=o[r++];)t.removeAttribute(n);return t},clearAttr:function(t){var e=t.attributes,n=["align","alt","checked","class","disabled","href","id","target","title","type","src","style"];return s.each(e,(function(e,r){var o=r.name,i=r.value,c=r.value;switch(o.toLowerCase()){case"style":s.each(i.split(";"),(function(e,n){-1<n.indexOf("color")?s.attr(t,"style",n):s.removeAttr(t,"style")}));break;case"class":if("CODE"==t.nodeName)return!1;-1<c.indexOf("at")?s.attr(t,"class","at"):-1<c.indexOf("vemoji")?s.attr(t,"class","vemoji"):s.removeAttr(t,"class");break;default:if(-1<n.indexOf(o))return!0;s.removeAttr(t,o)}})),t},remove:function(t){try{t.parentNode&&t.parentNode.removeChild(t)}catch(t){}},each:function(t,e){var n=0,r=t.length,o={}.toString.call(t);if(-1<["[object Array]","[object NodeList]"].indexOf(o))for(;n<r&&(!e||!1!==e.call(t[n],n,t[n]));n++);else for(n in t)if(t.hasOwnProperty(n)&&e&&!1===e.call(t[n],n,t[n]))break;return t}};t.exports=s},55:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Counter=function(){window.CounterFactory=i};var r=n(100),o=function(t,e){var n=new t,o=new AV.ACL;o.setPublicReadAccess(!0),o.setPublicWriteAccess(!0),n.setACL(o),n.set("url",e.url),n.set("xid",e.xid),n.set("title",e.title),n.set("time",1),n.save().then((function(t){r.find(e.el,".leancloud-visitors-count").innerText=1})).catch((function(t){console.log(t)}))},i={add:function(t,e){var n=r.findAll(document,".leancloud_visitors,.leancloud-visitors");if(n.length){var c=n[0],a=r.attr(c,"id"),l=r.attr(c,"data-flag-title"),u=encodeURI(a),s={el:c,url:a,xid:u,title:l};if(decodeURI(a)===decodeURI(e)){var f=new AV.Query(t);f.equalTo("url",a),f.find().then((function(e){if(0<e.length){var n=e[0];n.increment("time"),n.save().then((function(t){r.find(c,".leancloud-visitors-count").innerText=t.get("time")})).catch((function(t){console.log(t)}))}else o(t,s)})).catch((function(e){101==e.code&&o(t,s)}))}else i.show(t,n)}},show:function(t,e){var n=".leancloud-visitors-count";r.each(e,(function(t,e){var o=r.find(e,n);o&&(o.innerText=0)}));var o=[];for(var i in e)e.hasOwnProperty(i)&&o.push(r.attr(e[i],"id"));if(o.length){var c=new AV.Query(t);c.containedIn("url",o),c.find().then((function(t){0<t.length&&r.each(t,(function(t,e){var o=e.get("url"),i=e.get("time"),c=r.findAll(document,'.leancloud_visitors[id="'.concat(o,'"],.leancloud-visitors[id="').concat(o,'"]'));r.each(c,(function(t,e){var o=r.find(e,n);o&&(o.innerText=i)}))}))})).catch((function(t){console.error(t)}))}}}}}]);